# StayFocus

Chrome浏览器专注工作扩展，通过屏蔽干扰网站和番茄钟计时器提升工作效率。

## 功能特点

### 网站屏蔽
- 自定义屏蔽网站列表
- 预设常用干扰网站模板（社交媒体、视频娱乐、新闻资讯）  
- 智能屏蔽页面，提供友好的提示界面
- 临时关闭功能（5分钟）

### 番茄钟计时器
- 可自定义专注时间（15-60分钟）
- 可视化倒计时显示
- 专注完成提醒
- 自动休息时间管理

### 数据统计
- 每日专注时间统计
- 网站拦截次数统计
- 连续专注天数记录
- 数据导出功能

### 灵活设置
- 启动时自动启用专注模式
- 严格模式（无法临时关闭）
- 通知设置
- 自动开始下一轮专注

## 安装方法

### 方法一：开发者模式安装（推荐）

1. 打开Chrome浏览器
2. 在地址栏输入 `chrome://extensions/`
3. 开启右上角的"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择StayFocus项目文件夹
6. 扩展安装完成，可在工具栏看到StayFocus图标

### 方法二：打包安装

1. 在Chrome扩展管理页面点击"打包扩展程序"
2. 选择StayFocus项目文件夹
3. 生成.crx文件
4. 拖拽.crx文件到扩展管理页面进行安装

## 使用指南

### 基本使用

1. **启用专注模式**：点击扩展图标，开启专注模式开关
2. **添加屏蔽网站**：在弹窗中点击"+ 添加"按钮，输入要屏蔽的网站域名
3. **开始专注**：点击"开始专注"按钮，启动25分钟倒计时
4. **查看统计**：在弹窗底部查看今日专注时间和拦截次数

### 高级设置

1. **打开设置页面**：点击扩展弹窗底部的"设置"按钮
2. **基本设置**：配置自动启动、通知、严格模式等选项
3. **计时器设置**：自定义专注时间、休息时间等
4. **网站管理**：批量添加预设网站模板，管理屏蔽列表
5. **数据统计**：查看详细统计信息，导出数据

### 快速添加网站

使用预设模板快速添加常见干扰网站：

- **社交媒体**：Facebook, Twitter, Instagram, TikTok
- **视频娱乐**：YouTube, Bilibili, Netflix, Twitch  
- **新闻资讯**：Reddit, 知乎, 微博, 豆瓣

## 技术架构

### 文件结构
```
stayfocus-app/
├── manifest.json          # 扩展配置文件
├── popup.html             # 弹窗界面
├── options.html           # 设置页面
├── background.js          # 后台脚本
├── content.js             # 内容脚本
├── rules.json             # 屏蔽规则
├── css/
│   ├── popup.css          # 弹窗样式
│   └── options.css        # 设置页面样式
├── js/
│   ├── popup.js           # 弹窗逻辑
│   └── options.js         # 设置页面逻辑
└── icons/                 # 扩展图标
    ├── icon16.png
    ├── icon32.png
    ├── icon48.png
    └── icon128.png
```

### 核心功能实现

- **网站屏蔽**：使用Chrome的declarativeNetRequest API和content script注入
- **数据存储**：使用Chrome的storage.sync API进行云同步
- **计时器**：JavaScript setInterval实现精确计时
- **通知系统**：Chrome notifications API
- **右键菜单**：Chrome contextMenus API

## 权限说明

扩展需要以下权限：

- `storage`：保存用户设置和统计数据
- `activeTab`：获取当前标签页信息
- `tabs`：管理标签页状态
- `alarms`：定时任务和提醒
- `notifications`：桌面通知
- `declarativeNetRequest`：网站屏蔽功能
- `<all_urls>`：在所有网站上注入屏蔽脚本

## 常见问题

### Q: 为什么有些网站没有被屏蔽？
A: 检查域名格式是否正确，确保输入的是主域名（如 example.com），不包含 www 或协议前缀。

### Q: 如何临时访问被屏蔽的网站？
A: 在屏蔽页面点击"临时关闭专注模式"按钮，可获得5分钟的访问时间。

### Q: 数据会丢失吗？
A: 所有数据都保存在Chrome的同步存储中，登录同一Google账号的设备间会自动同步。

### Q: 如何完全卸载扩展？
A: 在Chrome扩展管理页面找到StayFocus，点击"移除"按钮即可完全卸载。

## 开发信息

- **版本**：v1.0.0
- **兼容性**：Chrome 88+
- **开发语言**：HTML, CSS, JavaScript
- **API版本**：Manifest V3

## 更新日志

### v1.0.0 (2025-07-02)
- 首次发布
- 网站屏蔽功能
- 番茄钟计时器
- 数据统计
- 完整设置页面
- 美观的用户界面

## 支持与反馈

如果在使用过程中遇到问题或有改进建议，欢迎通过以下方式联系：

- GitHub Issues：提交bug报告和功能请求
- 邮件反馈：发送详细问题描述
- 用户评价：在Chrome网上应用店留下评价

---

让专注成为习惯，让效率成为常态。StayFocus助力专注每一刻！

